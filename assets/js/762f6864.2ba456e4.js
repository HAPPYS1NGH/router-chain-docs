"use strict";(self.webpackChunkrouter_docs=self.webpackChunkrouter_docs||[]).push([[9600],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=o,f=d["".concat(c,".").concat(m)]||d[m]||s[m]||i;return n?r.createElement(f,a(a({ref:t},p),{},{components:n})):r.createElement(f,a({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var u=2;u<i;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},22313:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>s,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var r=n(87462),o=(n(67294),n(3905));const i={title:"Running Router blockchain on local system",sidebar_position:3},a=void 0,l={unversionedId:"running-router-chain-locally",id:"running-router-chain-locally",title:"Running Router blockchain on local system",description:"Overview",source:"@site/docs/router-core/running-router-chain-locally.md",sourceDirName:".",slug:"/running-router-chain-locally",permalink:"/router-core/running-router-chain-locally",draft:!1,editUrl:"https://github.com/router-protocol/docs/tree/main/docs/router-core/running-router-chain-locally.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Running Router blockchain on local system",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Router CLI",permalink:"/router-core/routerd"},next:{title:"Guides",permalink:"/router-core/category/guides"}},c={},u=[{value:"Overview",id:"overview",level:2},{value:"Setup config file",id:"setup-config-file",level:2},{value:"Step 1) Create config file",id:"step-1-create-config-file",level:3},{value:"Step 2) Setup meta configuration",id:"step-2-setup-meta-configuration",level:3},{value:"Step 3) Set the configs",id:"step-3-set-the-configs",level:3},{value:"Deployment",id:"deployment",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Start deployment",id:"start-deployment",level:3}],p={toc:u};function s(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("p",null,"In this section we will talk about how you can run Router blockchain on your local system."),(0,o.kt)("h2",{id:"setup-config-file"},"Setup config file"),(0,o.kt)("p",null,"Clone ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/router-protocol/routerchain-devops"},"this repo")," to begin deploying Router chain in your local system."),(0,o.kt)("h3",{id:"step-1-create-config-file"},"Step 1) Create config file"),(0,o.kt)("p",null,"Run the below command to create config file from existing template."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"cp config.example.json config.json")),(0,o.kt)("h3",{id:"step-2-setup-meta-configuration"},"Step 2) Setup meta configuration"),(0,o.kt)("p",null,"In the ",(0,o.kt)("inlineCode",{parentName:"p"},"config.json")," file, you have a key named ",(0,o.kt)("code",null,"meta"),"."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Setup public key ",(0,o.kt)("inlineCode",{parentName:"li"},"rsaPublic")," & private key ",(0,o.kt)("inlineCode",{parentName:"li"},"rsaPrivate")," paths"),(0,o.kt)("li",{parentName:"ol"},"Config files are picked based on environment. To run locally, env needs to be set to ",(0,o.kt)("inlineCode",{parentName:"li"},"local"))),(0,o.kt)("h3",{id:"step-3-set-the-configs"},"Step 3) Set the configs"),(0,o.kt)("p",null,"In ",(0,o.kt)("inlineCode",{parentName:"p"},"config.json")," file, there is a list of services supported by the deployment script. Each service has below mentioned fields with default values. You can update the fields as per the requirement."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"name")," - name of the service"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"fn")," - corresponding handler function (you can see function in deploy/start.sh)"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"containerName")," - container name of the service, change it unless you want to use different container name"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"srcPath")," - local path where to clone the service"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"enable")," - Set it to true to start respective service"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"repo")," - ssh url of the repository"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"branch")," - branch of the repo to checkout"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"clearCache")," - set to true to remove already cloned repository. Setting this to true will clone repo again and build it from scratch. Set to false, if repo is already cloned and docker image is built and you don't want to rebuild again. PS: If you are not sure, then set it to true.")),(0,o.kt)("p",null,"Example service config for router-chain."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'{\n    "name": "router-chain",\n    "fn": "RunChain",\n    "repo": "git@github.com:router-protocol/router-chain.git",\n    "branch": "featchain-automation",\n    "containerName": "router-chain-image",\n    "srcPath":"repos/router-chain",\n    "enable": false,\n    "clearCache": true\n}\n')),(0,o.kt)("h2",{id:"deployment"},"Deployment"),(0,o.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"jq")," - to read json config"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"docker")," - to start containers")),(0,o.kt)("p",null,"You can install above pre-requisites following the official documentation. Example is shown below."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"$ apt-get install jq\n$ apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin\n")),(0,o.kt)("h3",{id:"start-deployment"},"Start deployment"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"$ cd routerchain-devops\n$ bash deploy/start.sh\n")),(0,o.kt)("p",null,"The deployment setup is completed. Router chain should not be running in your local system!"))}s.isMDXComponent=!0}}]);