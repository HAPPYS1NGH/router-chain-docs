"use strict";(self.webpackChunkrouter_docs=self.webpackChunkrouter_docs||[]).push([[4825],{86787:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>c,toc:()=>p});var n=a(87462),r=(a(67294),a(3905)),o=a(69568);const s={title:"Deploying a Sample Cross-Chain NFT Contract",sidebar_position:2},i=void 0,c={unversionedId:"message-transfer-via-crosstalk/evm-guides/your-first-crosschain-nft-contract/deploying-your-nft-contract",id:"message-transfer-via-crosstalk/evm-guides/your-first-crosschain-nft-contract/deploying-your-nft-contract",title:"Deploying a Sample Cross-Chain NFT Contract",description:"This section describes how to deploy your NFT smart contract on different EVM-chains and test it by actually transferring your NFTs cross-chain.",source:"@site/docs/develop/message-transfer-via-crosstalk/evm-guides/your-first-crosschain-nft-contract/deploying-your-nft-contract.md",sourceDirName:"message-transfer-via-crosstalk/evm-guides/your-first-crosschain-nft-contract",slug:"/message-transfer-via-crosstalk/evm-guides/your-first-crosschain-nft-contract/deploying-your-nft-contract",permalink:"/develop/message-transfer-via-crosstalk/evm-guides/your-first-crosschain-nft-contract/deploying-your-nft-contract",draft:!1,editUrl:"https://github.com/router-protocol/docs/tree/main/docs/develop/message-transfer-via-crosstalk/evm-guides/your-first-crosschain-nft-contract/deploying-your-nft-contract.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Deploying a Sample Cross-Chain NFT Contract",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Creating a Sample Cross-Chain NFT Contract",permalink:"/develop/message-transfer-via-crosstalk/evm-guides/your-first-crosschain-nft-contract/creating-your-nft-contract"},next:{title:"EVM iDapp Functions",permalink:"/develop/message-transfer-via-crosstalk/evm-guides/iDapp-functions/"}},l={},p=[{value:"<strong>STEP 3)</strong> Deploy your NFT Contract",id:"step-3-deploy-your-nft-contract",level:2},{value:"1) Add networks to metamask",id:"1-add-networks-to-metamask",level:3},{value:"2) Compile your NFT contract",id:"2-compile-your-nft-contract",level:3},{value:"3) Deploy the Compiled Contract",id:"3-deploy-the-compiled-contract",level:3},{value:"<strong>STEP 4)</strong> Fee-payer approval and contract configuration",id:"step-4-fee-payer-approval-and-contract-configuration",level:2},{value:"<strong>1)</strong> Get funds in your wallet from Router-faucet",id:"1-get-funds-in-your-wallet-from-router-faucet",level:3},{value:"<strong>2)</strong> Approve your request on Router-explorer",id:"2-approve-your-request-on-router-explorer",level:3},{value:"<strong>3)</strong> Set address for counterpart contract",id:"3-set-address-for-counterpart-contract",level:3},{value:"<strong>STEP 5)</strong> Test your Cross-chain NFT Contract",id:"step-5-test-your-cross-chain-nft-contract",level:2},{value:"<strong>1)</strong> Get request metadata",id:"1-get-request-metadata",level:3},{value:"<strong>2)</strong> Transfer your NFTs crosschain",id:"2-transfer-your-nfts-crosschain",level:3},{value:"<strong>3)</strong> Track your transaction on Router Explorer",id:"3-track-your-transaction-on-router-explorer",level:3},{value:"<strong>4)</strong> Successfully receive your NFTs on destination chain",id:"4-successfully-receive-your-nfts-on-destination-chain",level:3}],d={toc:p};function u(t){let{components:e,...s}=t;return(0,r.kt)("wrapper",(0,n.Z)({},d,s,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This section describes how to deploy your NFT smart contract on different EVM-chains and test it by actually transferring your NFTs cross-chain."),(0,r.kt)("h2",{id:"step-3-deploy-your-nft-contract"},(0,r.kt)("strong",{parentName:"h2"},"STEP 3)")," Deploy your NFT Contract"),(0,r.kt)("h3",{id:"1-add-networks-to-metamask"},"1) Add networks to metamask"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 1)")," Visit ",(0,r.kt)("a",{parentName:"p",href:"https://chainlist.org/"},"chainlist")," for adding networks to your metamask.\n",(0,r.kt)("strong",{parentName:"p"},"Step 2)")," Connect your metamask wallet.\n",(0,r.kt)("strong",{parentName:"p"},"Step 3)")," Click on ",(0,r.kt)("inlineCode",{parentName:"p"},"include testnets"),".\n",(0,r.kt)("strong",{parentName:"p"},"Step 4)")," Search for ",(0,r.kt)("inlineCode",{parentName:"p"},"mumbai")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Avalanche Fuji Testnet")," and add them to your metamask.\n",(0,r.kt)("strong",{parentName:"p"},"Step 5)")," Visit ",(0,r.kt)("a",{parentName:"p",href:"https://faucet.polygon.technology/"},"Polygon faucet")," to request for some test MATIC into your account under Polygon Mumbai testnet.\n",(0,r.kt)("strong",{parentName:"p"},"Step 6)")," You can also visit ",(0,r.kt)("a",{parentName:"p",href:"https://faucet.avax.network/"},"Avalanche faucet")," to request for some test AVAX into your account under Avalanche Fuji testnet."),(0,r.kt)("h3",{id:"2-compile-your-nft-contract"},"2) Compile your NFT contract"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 1)")," Go to ",(0,r.kt)("a",{parentName:"p",href:"https://remix.ethereum.org/"},"https://remix.ethereum.org/")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 2)")," In the File Explorer pane, click on the plus icon under the ",(0,r.kt)("strong",{parentName:"p"},"Workspaces")," tab to create a new workspace."),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(16239).Z,alt:"Step 2",style:{width:300,marginBottom:12}})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 3)")," Under the template option, choose ",(0,r.kt)("strong",{parentName:"p"},"Blank"),", give your workspace an appropriate name and then click on ",(0,r.kt)("strong",{parentName:"p"},"OK"),"."),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(32969).Z,alt:"Step 3",style:{width:300,marginBottom:12}})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 4)")," In your new workspace, create a new file by the name of ",(0,r.kt)("strong",{parentName:"p"},"XERC1155.sol"),"."),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(72998).Z,alt:"Step 4",style:{width:300,marginBottom:12}})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 5)")," Copy the smart contract mentioned in STEP 1) and paste it into ",(0,r.kt)("strong",{parentName:"p"},"XERC1155.sol"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 6)")," Click on the ",(0,r.kt)("strong",{parentName:"p"},"Solidity compiler")," icon (the one shaped like an S), check that your compiler version is within the versions specified in the pragma solidity statement, and click on ",(0,r.kt)("strong",{parentName:"p"},"Compile HelloRouter.sol"),"."),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(33528).Z,alt:"Step 6",style:{marginBottom:12}})),(0,r.kt)("p",null,"Once compiled, you should see a green tick mark over the ",(0,r.kt)("strong",{parentName:"p"},"Solidity compiler")," icon."),(0,r.kt)("h3",{id:"3-deploy-the-compiled-contract"},"3) Deploy the Compiled Contract"),(0,r.kt)("p",null,"Lets say if you want to deploy your contract on Polygon Mumbai and Avalanche Fuji, you need to switch your network to Polygon Mumbai and deploy it using respective gateway address for Mumbai and repeat the process for Avalanche Fuji using the gateway address for Fuji."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 1)")," Click on the ",(0,r.kt)("strong",{parentName:"p"},"Deploy & run transactions")," icon (the one with the Ethereum logo) and select ",(0,r.kt)("strong",{parentName:"p"},"Injected Provider - Metamask")," as the ",(0,r.kt)("strong",{parentName:"p"},"Environment"),"."),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(52034).Z,alt:"Step 1",style:{marginBottom:12}})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 2)")," A MetaMask window will pop up following the previous step. Connect with your wallet and confirm."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Step 3)")," Add the gateway address for respective chains (mentioned in the below table), your wallet address(it can be EVM wallet address or router wallet address) and URI for the NFT contract, click on ",(0,r.kt)("strong",{parentName:"p"},"Deploy")," and sign the transaction in your MetaMask."),(0,r.kt)(o.Z,{apiData:[{apiUrl:"https://lcd.testnet.routerchain.dev/router-protocol/router-chain/multichain/chain_config",networkType:"Testnet"}],mdxType:"APIData"}),(0,r.kt)("p",{style:{marginBottom:"50px"}}),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(75439).Z,alt:"Step 3",style:{width:300,marginBottom:12}})),(0,r.kt)("p",null,"Sometimes the contract deployment fails due to low gas fees, so make sure to edit the gas fees while signing the transaction in your wallet."),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(1456).Z,alt:"Success",style:{marginBottom:12}})),(0,r.kt)("h2",{id:"step-4-fee-payer-approval-and-contract-configuration"},(0,r.kt)("strong",{parentName:"h2"},"STEP 4)")," Fee-payer approval and contract configuration"),(0,r.kt)("h3",{id:"1-get-funds-in-your-wallet-from-router-faucet"},(0,r.kt)("strong",{parentName:"h3"},"1)")," Get funds in your wallet from Router-faucet"),(0,r.kt)("p",null,"Go to ",(0,r.kt)("a",{parentName:"p",href:"https://faucet.testnet.routerchain.dev"},"https://faucet.testnet.routerchain.dev"),", connect your metamask wallet, select network as ",(0,r.kt)("inlineCode",{parentName:"p"},"Testnet"),", select token as ",(0,r.kt)("inlineCode",{parentName:"p"},"ROUTE"),", paste your wallet address and get test tokens into your account."),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(8985).Z,alt:"Step 1",style:{width:400,marginBottom:12}})),(0,r.kt)("h3",{id:"2-approve-your-request-on-router-explorer"},(0,r.kt)("strong",{parentName:"h3"},"2)")," Approve your request on Router-explorer"),(0,r.kt)("p",null,"Go to ",(0,r.kt)("a",{parentName:"p",href:"https://explorer.testnet.routerchain.dev/feePayer"},"https://explorer.testnet.routerchain.dev/feePayer")," , connect your wallet and approve the pending request corresponding to your source dapp address."),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(94826).Z,alt:"Step 1",style:{marginBottom:12}})),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(81714).Z,alt:"Step 1",style:{marginBottom:12}})),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(64076).Z,alt:"Step 1",style:{marginBottom:12}})),(0,r.kt)("h3",{id:"3-set-address-for-counterpart-contract"},(0,r.kt)("strong",{parentName:"h3"},"3)")," Set address for counterpart contract"),(0,r.kt)("p",null,"Let's say you deployed your contract on Polygon Mumbai and Avalanche Fuji, you need to set the address of the contract deployed on Fuji onto the contract deployed on Mumbai and vice-versa using the ",(0,r.kt)("inlineCode",{parentName:"p"},"setContractOnChain")," function."),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(79555).Z,alt:"Step 3",style:{width:400,marginBottom:12}})),(0,r.kt)("h2",{id:"step-5-test-your-cross-chain-nft-contract"},(0,r.kt)("strong",{parentName:"h2"},"STEP 5)")," Test your Cross-chain NFT Contract"),(0,r.kt)("h3",{id:"1-get-request-metadata"},(0,r.kt)("strong",{parentName:"h3"},"1)")," Get request metadata"),(0,r.kt)("p",null,"This function gets you the metadata to be used while initiating a cross-chain transfer requestfrom source chain using ",(0,r.kt)("inlineCode",{parentName:"p"},"transferCrossChain")," function. It includes gas limit for destination chain, gas price for destination chain, gas limit for source chain(ackGasLimit), gas price for source chain(ackGasPrice), relayer fees, acknowledgement type, bool if it is a read call and address for additional security module. To know more about request metadata parameters, kindly refer to this ",(0,r.kt)("a",{parentName:"p",href:"/develop/message-transfer-via-crosstalk/evm-guides/iDapp-functions/iSend#5-requestmetadata"},"page"),"."),(0,r.kt)("p",null,"Create the metadata like this:"),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(27964).Z,alt:"Step 1",style:{width:400,marginBottom:12}})),(0,r.kt)("h3",{id:"2-transfer-your-nfts-crosschain"},(0,r.kt)("strong",{parentName:"h3"},"2)")," Transfer your NFTs crosschain"),(0,r.kt)("p",null,"As explained earlier, ",(0,r.kt)("inlineCode",{parentName:"p"},"transferCrossChain")," function is responsible for creating a cross-chain NFT-transfer request. It first burns the NFT from contract on source chain, utilises gateway contracts' ",(0,r.kt)("inlineCode",{parentName:"p"},"ISend")," function to send request to mint the NFT to the user on the destination chain. To know more about this function, kindly refer to Step-6 on this ",(0,r.kt)("a",{parentName:"p",href:"/develop/message-transfer-via-crosstalk/sample-idapps/on-evm-chains/cross-chain-nft#step-by-step-guide"},"page")),(0,r.kt)("p",null,"You need to call this function by putting the chain id for destination chain; tuple of transfer parameters that contain NFT ID to be transferred, amount of that NFT id, nft data and the address of the recipient of those NFTs on destination chain; and the request metadata that we created in previous step."),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(23294).Z,alt:"Step 2",style:{width:300,marginBottom:12}})),(0,r.kt)("h3",{id:"3-track-your-transaction-on-router-explorer"},(0,r.kt)("strong",{parentName:"h3"},"3)")," Track your transaction on Router Explorer"),(0,r.kt)("p",null,"You can track the status of your transaction on ",(0,r.kt)("a",{parentName:"p",href:"https://explorer.testnet.routerchain.dev/"},"Router Explorer")),(0,r.kt)("h3",{id:"4-successfully-receive-your-nfts-on-destination-chain"},(0,r.kt)("strong",{parentName:"h3"},"4)")," Successfully receive your NFTs on destination chain"),(0,r.kt)("p",null,"After the transaction is successfully executed, you should now be able to see your updated NFT balance on destination chain."),(0,r.kt)("center",null,(0,r.kt)("img",{src:a(76935).Z,alt:"Step 4",style:{width:300,marginBottom:12}})),(0,r.kt)("p",null,"To know more about message transfer via Router's Crosstalk , kindly refer to EVM-guides ",(0,r.kt)("a",{parentName:"p",href:"../../evm-guides/iDapp-functions/"},"here"),"."))}u.isMDXComponent=!0},69568:(t,e,a)=>{a.d(e,{Z:()=>s});var n=a(67294),r=a(9669),o=a.n(r);const s=t=>{let{apiData:e}=t;const[a,r]=(0,n.useState)([]);(0,n.useEffect)((()=>{s()}),[]);const s=async()=>{try{const t=e.map((t=>{let{apiUrl:e}=t;return o().get(e)})),a=await Promise.all(t),n=[];a.forEach(((t,a)=>{const{networkType:r}=e[a],o=t.data.chainConfig.map((t=>({...t,networkType:r})));n.push(...o)})),r(n)}catch(t){console.log(t)}};return n.createElement("div",null,n.createElement("table",null,n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{style:{fontWeight:"bold"}},"Network Type"),n.createElement("th",{style:{fontWeight:"bold"}},"Chain ID"),n.createElement("th",{style:{fontWeight:"bold"}},"Chain Name"),n.createElement("th",{style:{fontWeight:"bold"}},"Gateway Contract Address"))),n.createElement("tbody",null,a.map((t=>n.createElement("tr",{key:t.chainId},n.createElement("td",null,t.networkType),n.createElement("td",null,t.chainId),n.createElement("td",null,t.chainName),n.createElement("td",null,t.gatewayContractAddress)))))))}},52034:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/part-2-step-1-8fdf9d901c4b96d1767f90c9218986cf.png"},75439:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/part-2-step-3-496166f8140b7134b4d008ce22b63f2d.png"},8985:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/part-4-step-1-62da3ee09f776a0796d49e68e1d628f1.png"},81714:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/part-4-step-2-a-aa450c66f987e2450476e08fc31d311f.png"},64076:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/part-4-step-2-b-f7b537d3ceb615e15153ca5477b56d2d.png"},94826:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/part-4-step-2-917c7470d7d027078af9944704717d99.png"},79555:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/part-4-step-3-65467e8fcfc030a2affae6cf76c15d5a.png"},27964:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/part-5-step-1-dd9e8888989c1925b12335f705b75d47.png"},23294:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/part-5-step-2-2df5d1edf4d8ae2d601c8daa792892cf.png"},76935:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/part-5-step-4-b6d075f994e4daea0930b6d6cd34377d.png"},16239:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/step-2-bd5c9bbf57fe6894c0b0982168688706.png"},32969:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/step-3-13901af99eb5e31c636a395f286f90d3.png"},72998:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/step-4-239ecbf1cce83339da6d0083470813c9.png"},33528:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/step-6-b55daf83a0092b1ad4608b815ba59aa3.png"},1456:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/success-ceeaf26dd7fa6967b3baa65b69ecd414.png"}}]);