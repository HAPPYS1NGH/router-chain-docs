"use strict";(self.webpackChunkrouter_docs=self.webpackChunkrouter_docs||[]).push([[9600],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>d});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),h=p(n),d=o,m=h["".concat(c,".").concat(d)]||h[d]||u[d]||a;return n?r.createElement(m,i(i({ref:t},s),{},{components:n})):r.createElement(m,i({ref:t},s))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=h;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},22313:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var r=n(87462),o=(n(67294),n(3905));const a={title:"Running Router Chain on Any Local System",sidebar_position:3},i=void 0,l={unversionedId:"running-router-chain-locally",id:"running-router-chain-locally",title:"Running Router Chain on Any Local System",description:"In this section we will dilineate the steps involved in running the Router blockchain on any local machine.",source:"@site/docs/router-core/running-router-chain-locally.md",sourceDirName:".",slug:"/running-router-chain-locally",permalink:"/router-core/running-router-chain-locally",draft:!1,editUrl:"https://github.com/router-protocol/docs/tree/main/docs/router-core/running-router-chain-locally.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Running Router Chain on Any Local System",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Router CLI",permalink:"/router-core/routerd"},next:{title:"Guides",permalink:"/router-core/category/guides"}},c={},p=[{value:"Part 1: Config File Setup",id:"part-1-config-file-setup",level:2},{value:"Step 1) Clone the Router chain repository",id:"step-1-clone-the-router-chain-repository",level:4},{value:"Step 2) Create a config file",id:"step-2-create-a-config-file",level:4},{value:"Step 3) Set the relevant paths and environment",id:"step-3-set-the-relevant-paths-and-environment",level:4},{value:"Step 4) Set the configurations",id:"step-4-set-the-configurations",level:4},{value:"Part 2: Deployment",id:"part-2-deployment",level:2},{value:"Step 1) Install the prerequisites",id:"step-1-install-the-prerequisites",level:4},{value:"Step 2) Start deployment",id:"step-2-start-deployment",level:4}],s={toc:p};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"In this section we will dilineate the steps involved in running the Router blockchain on any local machine."),(0,o.kt)("h2",{id:"part-1-config-file-setup"},"Part 1: Config File Setup"),(0,o.kt)("h4",{id:"step-1-clone-the-router-chain-repository"},"Step 1) Clone the Router chain repository"),(0,o.kt)("p",null,"Clone ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/router-protocol/routerchain-devops"},"this repo")," to begin deploying the Router chain in your local system."),(0,o.kt)("h4",{id:"step-2-create-a-config-file"},"Step 2) Create a config file"),(0,o.kt)("p",null,"Run the command given below to create a config file from the existing template."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cp config.example.json config.json\n")),(0,o.kt)("h4",{id:"step-3-set-the-relevant-paths-and-environment"},"Step 3) Set the relevant paths and environment"),(0,o.kt)("p",null,"In the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"config.json"))," file, you will have a key named ",(0,o.kt)("inlineCode",{parentName:"p"},"meta"),"."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Set up the paths for the public key ",(0,o.kt)("inlineCode",{parentName:"li"},"rsaPublic")," and the private key ",(0,o.kt)("inlineCode",{parentName:"li"},"rsaPrivate"),"."),(0,o.kt)("li",{parentName:"ul"},"Config files are picked based on environment. To run locally, set the env to ",(0,o.kt)("inlineCode",{parentName:"li"},"local"),".")),(0,o.kt)("h4",{id:"step-4-set-the-configurations"},"Step 4) Set the configurations"),(0,o.kt)("p",null,"In the ",(0,o.kt)("inlineCode",{parentName:"p"},"config.json")," file, there is a list of services supported by the deployment script. Each service has the following fields with default values. You can update the fields as per your requirements."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"name")," - Name of the service"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"fn")," - Corresponding handler function (you can see this function in ",(0,o.kt)("inlineCode",{parentName:"li"},"deploy/start.sh"),")"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"containerName")," - Container name of the service, change it if you want to use a different container name"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"srcPath")," - Local path where to clone the service"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"enable")," - Set it to true to start the respective service"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"repo")," - SSH URL of the repository"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"branch")," - Branch of the repo to checkout"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"clearCache")," - Set it to true to remove already cloned repository. It will clone the repo again and build it from scratch. Set to false if the repo is already cloned and the docker image is already built. If you are not sure, set it to true.")),(0,o.kt)("p",null,"Example service config for router-chain:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},'{\n    "name": "router-chain",\n    "fn": "RunChain",\n    "repo": "git@github.com:router-protocol/router-chain.git",\n    "branch": "featchain-automation",\n    "containerName": "router-chain-image",\n    "srcPath":"repos/router-chain",\n    "enable": false,\n    "clearCache": true\n}\n')),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"part-2-deployment"},"Part 2: Deployment"),(0,o.kt)("h4",{id:"step-1-install-the-prerequisites"},"Step 1) Install the prerequisites"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"jq")," - to read the JSON config"),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("inlineCode",{parentName:"li"},"docker")," - to start containers")),(0,o.kt)("p",null,"You can install the aforementioned pre-requisites by following their official documentation or by using the following commands:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"apt-get install jq\napt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin\n")),(0,o.kt)("h4",{id:"step-2-start-deployment"},"Step 2) Start deployment"),(0,o.kt)("p",null,"Run the following commands to start the Router chain deployment on your local machine:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd routerchain-devops\nbash deploy/start.sh\n")),(0,o.kt)("p",null,"Once these commands are successfully executed, the Router chain should be running in your local system!"))}u.isMDXComponent=!0}}]);