"use strict";(self.webpackChunkrouter_docs=self.webpackChunkrouter_docs||[]).push([[5059],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>h});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=u(n),h=o,m=d["".concat(s,".").concat(h)]||d[h]||p[h]||a;return n?r.createElement(m,i(i({ref:t},l),{},{components:n})):r.createElement(m,i({ref:t},l))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},10061:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>u});var r=n(87462),o=(n(67294),n(3905));const a={},i="Understanding Omnichain Framework",c={unversionedId:"understanding-omnichain-framework/README",id:"understanding-omnichain-framework/README",title:"Understanding Omnichain Framework",description:"High Level Architecture",source:"@site/docs/omnichain-framework/understanding-omnichain-framework/README.md",sourceDirName:"understanding-omnichain-framework",slug:"/understanding-omnichain-framework/",permalink:"/omnichain-framework/understanding-omnichain-framework/",draft:!1,editUrl:"https://github.com/router-protocol/docs/tree/main/docs/omnichain-framework/understanding-omnichain-framework/README.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/omnichain-framework/overview"},next:{title:"Understanding the Functions",permalink:"/omnichain-framework/understanding-omnichain-framework/understanding-functions"}},s={},u=[{value:"High Level Architecture",id:"high-level-architecture",level:2},{value:"Inbound Workflow",id:"inbound-workflow",level:3},{value:"Outbound Workflow",id:"outbound-workflow",level:3}],l={toc:u};function p(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,r.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"understanding-omnichain-framework"},"Understanding Omnichain Framework"),(0,o.kt)("h2",{id:"high-level-architecture"},"High Level Architecture"),(0,o.kt)("center",null,(0,o.kt)("img",{src:n(92841).Z,alt:"High Level Workflow"})),(0,o.kt)("p",null,"Any cross-chain request between two third-party chains is divided into two independent flows - ",(0,o.kt)("strong",{parentName:"p"},"Inbound")," and ",(0,o.kt)("strong",{parentName:"p"},"Outbound"),"."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Warning:")," Not all inbound requests need to have a corresponding outbound request, and vice versa. In any cross-chain request with the Router chain as the destination chain, there won't be any outbound request. Similarly, any cross-chain request originating from the Router chain won't have any inbound request. ")),(0,o.kt)("h3",{id:"inbound-workflow"},"Inbound Workflow"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 1)")," A user initiates a cross-chain action on an application's smart contract on the source chain."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 2)")," The application contract then calls the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"RequestToRouter()"))," function on the Router Gateway contract with the relevant parameters."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 3)")," The Gateway contract on the source chain emits an event that is listened to by the orchestrators on the Router chain."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 4)")," After validating the event with the help of the attestation module, the inbound module passes the event to the application's bridge contract on the Router chain, where it can implement its custom business logic."),(0,o.kt)("h3",{id:"outbound-workflow"},"Outbound Workflow"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 1)")," After the transaction initiated by the bridge contract is mined on the Router chain, the outbound module picks up the outbound request generated by the bridge contract."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 2)")," The outbound module collects and persists all the signatures given by orchestrators to validate the outbound request."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 3)")," Once the majority voting power is achieved, the relayer polling the outbound requests of that particular bridge contract picks up the transaction and forwards the event to the Router Gateway contract on the destination chain."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 4)")," The Gateway contract on the destination chain calls the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"handleRequestFromRouter()"))," function on the application contract on the destination chain."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 5)")," The application contract on the destination chain will take appropriate actions based on the data transferred."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 6)")," After the ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"handleRequestFromRouter()"))," function execution is complete on the destination chain, the destination chain's Gateway contract emits an acknowledgment event that is listened to by the orchestrators on the Router chain."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Step 7)")," The ack is then submitted to bridge contract ensuring the execution of Outbound Request. Upon receiving the ack, the bridge contract can mark the status of outbound request as completed and take required actions."))}p.isMDXComponent=!0},92841:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/high-level-workflow-ca0164db81fe3f910ffe3b994d82a048.png"}}]);