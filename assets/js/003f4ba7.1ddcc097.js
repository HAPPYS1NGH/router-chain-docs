"use strict";(self.webpackChunkrouter_docs=self.webpackChunkrouter_docs||[]).push([[9711],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>p});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),h=u(n),p=a,m=h["".concat(c,".").concat(p)]||h[p]||l[p]||i;return n?r.createElement(m,o(o({ref:t},d),{},{components:n})):r.createElement(m,o({ref:t},d))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=h;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var u=2;u<i;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},99638:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var r=n(87462),a=(n(67294),n(3905));const i={title:"Fee Management",sidebar_position:4},o=void 0,s={unversionedId:"fee-management",id:"fee-management",title:"Fee Management",description:"Gas and Fee Payer Considerations",source:"@site/docs/omnichain-framework/fee-management.md",sourceDirName:".",slug:"/fee-management",permalink:"/omnichain-framework/fee-management",draft:!1,editUrl:"https://github.com/router-protocol/docs/tree/main/docs/omnichain-framework/fee-management.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Fee Management",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Sample Contracts",permalink:"/omnichain-framework/understanding-omnichain-framework/sample-contracts"},next:{title:"Cross-chain Meta Transactions",permalink:"/omnichain-framework/cross-chain-meta-transactions"}},c={},u=[{value:"Gas and Fee Payer Considerations",id:"gas-and-fee-payer-considerations",level:2},{value:"OmniChain Framework Fee Model",id:"omnichain-framework-fee-model",level:2},{value:"Inbound Request Fee Structure",id:"inbound-request-fee-structure",level:3},{value:"Outbound Request Fee Structure",id:"outbound-request-fee-structure",level:3}],d={toc:u};function l(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"gas-and-fee-payer-considerations"},"Gas and Fee Payer Considerations"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The gas price for the execution of inbound transactions on the Router chain is decided via governance and included directly in the chain configuration."),(0,a.kt)("li",{parentName:"ul"},"In the case of OmniChain framework, the ",(0,a.kt)("inlineCode",{parentName:"li"},"gasLimit"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"gasPrice")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"feePayer")," addresses specified by the user on the source chain in the ",(0,a.kt)("inlineCode",{parentName:"li"},"requestMetadata")," are used for executing the inbound request on Router's bridge contract."),(0,a.kt)("li",{parentName:"ul"},"Since we are using the ECDSA, an EVM-based address can easily be converted to a Router chain address and vice versa, which means that the sender address will have a corresponding address on the Router chain. Therefore, the ",(0,a.kt)("inlineCode",{parentName:"li"},"senderAddress")," can also be set as the ",(0,a.kt)("inlineCode",{parentName:"li"},"feePayer")," address."),(0,a.kt)("li",{parentName:"ul"},"While exercising the option to run their own relayer, applications might want to leave the task of gas limit estimation to the relayers. In such a scenario, they can pass the ",(0,a.kt)("inlineCode",{parentName:"li"},"gasLimit")," as $0$ in ",(0,a.kt)("inlineCode",{parentName:"li"},"requestMetadata"),"."),(0,a.kt)("li",{parentName:"ul"},"For an outbound request coming via the OmniChain framework, relayers are required to estimate the gas price for executing the transaction on the destination chain.")),(0,a.kt)("h2",{id:"omnichain-framework-fee-model"},"OmniChain Framework Fee Model"),(0,a.kt)("p",null,"As discussed in the previous sections, the OmniChain flow on the Router chain is divided into two parts - inbound and outbound, each of which has a fee associated with it."),(0,a.kt)("h3",{id:"inbound-request-fee-structure"},"Inbound Request Fee Structure"),(0,a.kt)("p",null,"To execute an inbound request on the Router chain, users are required to configure a ",(0,a.kt)("inlineCode",{parentName:"p"},"gasLimit")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"gasPrice")," parameter in their cross-chain request. This ",(0,a.kt)("inlineCode",{parentName:"p"},"gasLimit")," is multiplied by the ",(0,a.kt)("inlineCode",{parentName:"p"},"gasPrice")," present to calculate the amount of ROUTE tokens to be deducted from the user-specified ",(0,a.kt)("inlineCode",{parentName:"p"},"feePayer")," address. This fee is used to cover the cost of transaction execution (bridge contract call) on the Router chain. Note that if your ",(0,a.kt)("inlineCode",{parentName:"p"},"feePayer")," does not have sufficient ROUTE balance, the transaction will not be executed. You will have to top up the ",(0,a.kt)("inlineCode",{parentName:"p"},"feePayer")," address to ensure the execution of your request. Note that, we have a function named ",(0,a.kt)("inlineCode",{parentName:"p"},"setDappMetadata")," that can be used to change the ",(0,a.kt)("inlineCode",{parentName:"p"},"feePayer")," address from the source chain."),(0,a.kt)("h3",{id:"outbound-request-fee-structure"},"Outbound Request Fee Structure"),(0,a.kt)("p",null,"The bridge contract must pass reasonable ",(0,a.kt)("inlineCode",{parentName:"p"},"gasPrice")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"gasLimit")," parameters to cover the cost of executing the outbound leg of the cross-chain request on the destination chain. Once the outbound module receives the outbound request, it queries the oracle module for the latest price of the ROUTE token and the native gas token of the specified destination chain. It uses the gas price fetched using the gas price oracle, and the token prices fetched using the token price oracle to convert the gas cost involved in the execution of the outbound request from the destination chain native token to the ROUTE token."))}l.isMDXComponent=!0}}]);